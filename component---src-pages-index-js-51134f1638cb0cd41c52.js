(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{263:function(e,t,n){"use strict";n.r(t);n(39);var a=n(10),o=n.n(a),r=(n(40),n(25),n(15),n(0)),i=n.n(r),l=n(1),s=n.n(l),c=n(116),p=n(24),u=n(312),d=n.n(u),m=n(275),h=Object(m.a)(["",";"],function(e){var t=e.label;return 1===t.length?"125%":t.length>5?"65%":"85%"}),f=m.b.div.withConfig({displayName:"Label__LabelEntry",componentId:"sc-8dsn6g-0"})(["font-size:",";word-break:break-word;&:nth-child(2){margin-top:2px;}"],h);var y=function(e){return e.labels.map(function(e,t){var n=!0===e.glyph?i.a.createElement("span",{className:"icon-"+e.src}):e;return i.a.createElement(f,{key:t,label:e},n)})},b=m.b.div.withConfig({displayName:"Key__Base",componentId:"sc-19j6qf6-0"})(["position:absolute;border:1px solid rgb(199,199,199);padding:0;margin:0;text-align:center;background-color:rgb(244,244,244);border-radius:8px;"]),g=m.b.div.withConfig({displayName:"Key__Cap",componentId:"sc-19j6qf6-1"})(["background-color:white;border-radius:3px;font-weight:bold;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;width:90%;height:80%;margin:5% 5% 15%;cursor:pointer;"]);function C(e){var t=e.width,n=e.height,a=e.label,o=e.column,r=e.row,l=e.verticalSpan,s=e.lift,c=e.id,p=e.onClick,u={width:t+"%",height:n*l+"%",left:t*o+"%",top:n*(r-s)+"%"},d=Array.isArray(a)?a:[a];return i.a.createElement(b,{style:u},i.a.createElement(g,{onClick:function(e){return p({id:c})}},a&&i.a.createElement(y,{labels:d})))}C.propTypes={label:s.a.string,onClick:s.a.func.isRequired},C.defaultProps={lift:0};var v=Object(r.memo)(C),E=m.b.div.withConfig({displayName:"keyboard__KeyboardSection",componentId:"sc-1yqes2a-0"})(["position:relative;margin:0 5%;flex-grow:1;height:100%;"]),k=m.b.div.withConfig({displayName:"keyboard__KeyboardTable",componentId:"sc-1yqes2a-1"})(["display:flex;height:100%;"]),x=m.b.div.withConfig({displayName:"keyboard__Layout",componentId:"sc-1yqes2a-2"})(["width:100%;height:100%;padding:30px;"]),w={0:function(){return null},1:function(e){return i.a.createElement(v,Object.assign({},e,{verticalSpan:1}))},2:function(e){return i.a.createElement(v,Object.assign({},e,{verticalSpan:2}))},3:function(e){return i.a.createElement(v,Object.assign({},e,{verticalSpan:2,lift:1}))}},S=function(e){var t,n=e.onKeySelect,a=e.layout,o=e.split,r=e.keysData,l=a.length,s=l/2,c=a[0].length,p=o?100/(l/2):100/l,u=100/c,d=(t=n,function(e){return function(n){return function(a){return function(o,r){return function(i){return function(l,s){var c=s+i*o;return w[l]({width:a,height:n,onClick:t,row:i%r,column:s,key:i+"x"+s,id:c,label:(e[c]||{}).label||""})}}}}}})(r)(p)(u)(c,s),m=a.map(function(e,t){return e.map(d(t))}),h=o?[m.slice(0,s),m.slice(s)]:m;return i.a.createElement(x,null,i.a.createElement(k,null,h.map(function(e,t){return i.a.createElement(E,{key:"hand "+t},e)})))};S.propTypes={split:s.a.bool,layout:s.a.arrayOf(s.a.array)};var O=S,j=n(79),_=function(e){var t=e.actions,n=e.classes;return i.a.createElement("div",{className:n.root},t.map(function(e,t){return i.a.createElement("button",{key:t,onClick:e.method},e.label)}))};_.propTypes={actions:s.a.arrayOf(s.a.shape({method:s.a.func,label:s.a.string}))},_.defaultProps={actions:[]};var P=Object(j.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"}}})(_),I=m.b.div.withConfig({displayName:"Layout__Wrapper",componentId:"sc-1tqkmvl-0"})(["height:100%;"]),L=m.b.div.withConfig({displayName:"Layout__Top",componentId:"sc-1tqkmvl-1"})(["width:100%;height:5%;margin:0;"]),N=m.b.div.withConfig({displayName:"Layout__Body",componentId:"sc-1tqkmvl-2"})(["width:100%;height:70%;margin:0;max-width:1160px;margin:0 auto;padding:0 15px;"]),q=m.b.div.withConfig({displayName:"Layout__Bottom",componentId:"sc-1tqkmvl-3"})(["width:100%;height:25%;margin:0;padding:0;"]);function A(e){return i.a.createElement(I,null,i.a.createElement(L,null,e.top),i.a.createElement(N,null,e.children),i.a.createElement(q,null,e.bottom))}A.propTypes={top:s.a.node,bottom:s.a.node},A.defaultProps={classes:[]};var D=A,T=n(56),K=n.n(T),W=n(270),R=n.n(W),B=n(294),F=n.n(B),M=n(306),z=n.n(M),G=n(304),H=n.n(G),J=n(305),Y=n.n(J),Q=n(302),U=n.n(Q),V=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.open,n=e.onClose,a=e.classes,o=e.text,r=e.onEntered,l=e.title,s=e.actions,c=e.children;return i.a.createElement(F.a,{open:t,onClose:n,onEntered:r,"aria-labelledby":"edit-key",classes:{paper:a.paper}},l&&i.a.createElement(U.a,{id:"alert-dialog-title"},l),i.a.createElement(H.a,{classes:{root:a.DialogContent}},o&&i.a.createElement(Y.a,null,o),c),s&&i.a.createElement(z.a,null,s))},t}(r.PureComponent);V.defaultProps={open:!1,text:null,title:null,actions:null},V.propTypes={open:s.a.bool,text:s.a.string,title:s.a.string,actions:s.a.node,onClose:s.a.func,onOpen:s.a.func,onEntered:s.a.func};var X=Object(j.withStyles)({paper:{maxWidth:"70%"},DialogContent:{width:"100%"}})(V),Z=n(358),$=Object(j.withStyles)({paper:{minWidth:"30%",overflowY:"visible"},DialogContent:{overflowY:"visible"}}),ee=function(e){var t=function(e){return function(t,n){var a=t.value,o=t.os;void 0===n&&(n={});var r=(e[a]||{}).label;return"function"==typeof r?r({code:a,command:n.value,os:o||n.os}):r}}(e),n=function(e){return function(t){var n=t.value;return(e[n]||{}).params}}(e),a=function(e){function a(t){var n;return(n=e.call(this,t)||this).state={key:{},params:{}},n.onParamsChange=n.onParamsChange.bind(K()(K()(n))),n.onsSubmit=n.onsSubmit.bind(K()(K()(n))),n.onChange=n.onChange.bind(K()(K()(n))),n}o()(a,e);var r=a.prototype;return r.resetState=function(){this.setState({key:{},params:{}})},r.onsSubmit=function(){var e=this.state,n=e.key,a=e.params,o=t(n,a);this.props.onClose(Object.assign({key:Object.assign({},n,{label:o})},this.props.info,{params:this.state.params})),this.resetState()},r.onChange=function(e){this.setState({key:e})},r.onParamsChange=function(e){this.setState({params:e})},r.render=function(){var e=this.props,t=e.open,a=e.keyOptions,o=e.classes,r=e.modifierOptions,l=this.state.key;return i.a.createElement(X,{open:t,onClose:this.onsSubmit,classes:o,text:"Keycode:",actions:i.a.createElement(R.a,{onClick:this.onsSubmit,color:"primary"},"Save")},i.a.createElement(Z.a,{options:a,onChange:this.onChange,autoFocus:!0}),n(l)&&i.a.createElement(Z.a,{options:r,onChange:this.onParamsChange,autoFocus:!0}))},a}(r.PureComponent);return a.defaultProps={open:!1,info:{}},a.propTypes={open:s.a.bool,info:s.a.object,modifierOptions:s.a.arrayOf(s.a.object).isRequired},$(a)},te=n(369),ne=n.n(te),ae=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={snackOpen:!1,snackMessage:""},t.textArea=i.a.createRef(),t.onSnackClose=t.onSnackClose.bind(K()(K()(t))),t.onEnter=function(){var e=t.textArea.current;try{e.focus(),e.select(),document.execCommand("copy")}catch(e){console.error("Error copying to the clipboard")}t.props.onCopySuccess("Copied to the clipboard"),t.openSnack("Copied to the clipboard!")},t}o()(t,e);var n=t.prototype;return n.onSnackClose=function(){this.setState({snackOpen:!1})},n.openSnack=function(e){this.setState({snackOpen:!0,snackMessage:e})},n.render=function(){var e=this.props,t=e.open,n=e.close,a=e.classes,o=e.text;return i.a.createElement(F.a,{open:t,onClose:n,onEntered:this.onEnter,"aria-labelledby":"edit-key",classes:{paper:a.paper}},i.a.createElement(H.a,{classes:{root:a.DialogContent}},i.a.createElement(Y.a,null,"Generated layout:"),i.a.createElement("pre",{className:a.codeWrapper},i.a.createElement("code",null,o))),i.a.createElement(z.a,null,i.a.createElement(R.a,{onClick:n,color:"primary"},"CLOSE")),i.a.createElement("textarea",{className:a.textArea,ref:this.textArea,value:o,readOnly:!0}),i.a.createElement(ne.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.snackOpen,autoHideDuration:6e3,onClose:this.onSnackClose,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},this.state.snackMessage)}))},t}(r.PureComponent);ae.defaultProps={open:!1,info:{},onCopySuccess:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log(t)}},ae.propTypes={open:s.a.bool,text:s.a.string,close:s.a.func,onCopySuccess:s.a.func};var oe=Object(j.withStyles)(function(e){return{paper:{minWidth:"50%",minHeight:"50%",maxWidth:"70%"},DialogContent:{width:"100%"},textArea:{width:"1em",height:"1em",backgroundColor:"tranpsarent",position:"fixed",top:"-1em",left:"-1em",display:"hidden"},codeWrapper:{backgroundColor:"rgb(244, 244, 244)",border:"1px solid grey",borderRadius:"6px",padding:"6px"}}})(ae),re=n(377),ie=n.n(re),le=n(379),se=n.n(le),ce=n(394),pe=n.n(ce),ue=(n(278),n(397)),de=n.n(ue),me=n(399),he=n.n(me);s.a.node.isRequired;var fe=function(e){return function(t,n){e(n)}};function ye(e){var t=e.current,n=e.tabs,a=e.classes,o=e.onChange,r=e.onAdd;return i.a.createElement("div",{className:a.root},i.a.createElement(ie.a,{position:"static",color:"default",classes:{root:a.header}},i.a.createElement(se.a,{value:t,onChange:fe(o),classes:{root:a.tabs},indicatorColor:"primary",textColor:"primary",scrollable:!0,scrollButtons:"auto"},n.map(function(e,t){return i.a.createElement(pe.a,{label:e.label,key:t})})),i.a.createElement(de.a,{className:a.menuButton,color:"inherit","aria-label":"Menu",onClick:r},i.a.createElement(he.a,null))))}ye.propTypes={onChange:s.a.func.isRequired,current:s.a.number.isRequired,onAdd:s.a.func},ye.defaultProps={tabs:[]};var be=Object(j.withStyles)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},tabs:{flexGrow:1},header:{display:"flex",flexDirection:"row"}}})(ye),ge=n(117),Ce=n(119),ve=n(115),Ee=n(401),ke=n.n(Ee),xe=Object(j.withStyles)({paper:{minWidth:"80%"},DialogContent:{}}),we=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={text:""},t.onChange=t.onChange.bind(K()(K()(t))),t.onSubmit=t.onSubmit.bind(K()(K()(t))),t}o()(t,e);var n=t.prototype;return n.resetState=function(){this.setState({text:""})},n.onChange=function(e){var t=e.target.value;this.setState({text:t})},n.onSubmit=function(){this.props.onSubmit(this.state.text),this.resetState(),this.props.onClose()},n.render=function(){var e=this.props,t=e.open,n=e.onClose,a=e.classes,o=this.state.text;return i.a.createElement(X,{open:t,onClose:n,classes:a,title:"Layout import",text:"Paste the layout here:",actions:i.a.createElement(R.a,{onClick:this.onSubmit,color:"primary"},"Import")},i.a.createElement(ke.a,{id:"import-layout-paste",label:"your layout",multiline:!0,fullWidth:!0,margin:"normal",variant:"outlined",autoFocus:!0,value:o,onChange:this.onChange}))},t}(r.PureComponent);we.defaultProps={open:!1},we.propTypes={open:s.a.bool,onSubmit:s.a.func,onClose:s.a.func.isRequired};var Se=xe(we);n.d(t,"KeyboardPage",function(){return _e});var Oe=ee(Ce.a),je=function(e){for(var t=[];e--;)t.push({label:"Layer "+e});return t.reverse()},_e=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=this.props,t=e.editKey,n=e.layout,a=e.keys,o=e.exportLayout,l=e.editing,s=e.editingId,c=e.exportIsOpen,p=e.exportClose,u=e.importLayout,m=e.exported,h=e.tabs,f=e.activeLayer,y=e.selectLayer,b=e.createLayer,g=e.importDialogOpen,C=e.ui,v=e.setKey;return i.a.createElement(r.Fragment,null,i.a.createElement(d.a,null,i.a.createElement("title",null,"Ergodox layout editor"),i.a.createElement("meta",{name:"description",content:"Configure your ergodox layouts"}),i.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),i.a.createElement("html",{lang:"en"})),i.a.createElement(D,{top:i.a.createElement(be,{tabs:h,current:f,onChange:y,onAdd:b}),bottom:i.a.createElement(P,{actions:[{method:o,label:"Export"},{method:C.openImport,label:"Import"}]})},i.a.createElement(O,{onKeySelect:t,layout:n.description,split:n.split,keysData:a})),i.a.createElement(Oe,{open:l,onClose:v,info:{id:s},keyOptions:Ce.b,modifierOptions:Ce.c}),i.a.createElement(oe,{open:c,close:p,text:m}),i.a.createElement(Se,{open:g,onClose:C.closeImport,onSubmit:u}))},t}(r.Component);_e.propTypes={prop:s.a.string};var Pe=Object(c.b)(function(e){return Object.assign({},e.keyboard,e.ui,{keys:e.keyboard.keys[e.keyboard.activeLayer],tabs:je(e.keyboard.layersCount)})},function(e){return Object.assign({},Object(p.a)(ge.a,e),{ui:Object(p.a)(ve.a,e)})})(_e);t.default=function(){return i.a.createElement(Pe,null)}}}]);
//# sourceMappingURL=component---src-pages-index-js-51134f1638cb0cd41c52.js.map